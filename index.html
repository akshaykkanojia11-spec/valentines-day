<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine?</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            margin: 0;
            font-family: 'Arial', sans-serif; 
            background-color: #ffe6e6; 
            overflow: hidden; /* Prevents scrollbars when button moves */
            text-align: center; 
        }
        
        /* The main image */
        #status-img { 
            width: 280px; 
            border-radius: 20px; 
            margin-bottom: 20px;
            object-fit: cover;
        }

        h1 { 
            color: #d63384; 
            font-size: 2.5rem; 
            margin: 15px;
        }

        /* Buttons styling */
        button { 
            font-size: 1.5rem; 
            padding: 15px 30px; 
            border: none; 
            border-radius: 15px; 
            cursor: pointer; 
            font-weight: bold;
            transition: 0.2s;
            margin: 10px; /* Space between buttons */
        }

        #yesBtn { 
            background-color: #ff4d6d; 
            color: white; 
            /* High Z-index ensures it's always clickable */
            position: relative;
            z-index: 10; 
        }

        #noBtn { 
            background-color: #adb5bd; 
            color: white; 
            /* FIXED prevents it from getting stuck in a container */
            position: fixed; 
            z-index: 10;
        }
    </style>
</head>
<body>

    <img id="status-img" src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExN2NtNTNyOXI2NTRwbGVjajl1M2ExcHQ5MHEydndkcjF0YWpjemgzZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Rik9n81Vda3rzr5F8h/giphy.gif" alt="Cute GIF">
    
    <h1 id="question">Will you be my Valentine Bubu? ‚ù§Ô∏è</h1>
    
    <div>
        <button type="button" id="yesBtn">Yes!</button>
        <button type="button" id="noBtn">No</button>
    </div>

    <audio id="valentineMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script>
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const statusImg = document.getElementById('status-img');
        const question = document.getElementById('question');
        const music = document.getElementById('valentineMusic');

        // 1. Position the "No" button next to "Yes" initially
        // We do this in JS to ensure it matches the screen size
        const setInitialNoPosition = () => {
            const yesRect = yesBtn.getBoundingClientRect();
            // Place it 20px to the right of the Yes button
            noBtn.style.left = (yesRect.right + 20) + 'px';
            noBtn.style.top = yesRect.top + 'px';
        };
        
        // Run once on load
        window.onload = setInitialNoPosition;

        // 2. Make the No Button Run Away
        const moveButton = () => {
            // Random coordinates within the window
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
        };

        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Prevents clicking on touch devices
            moveButton();
        });

        // 3. The "Yes" Click
        yesBtn.addEventListener('click', () => {
            // A. Change the text and image
            question.innerHTML = "Yay! I love you shonu bacchu!! üòò";
            statusImg.src = "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/KztT2c4u8mYYUiMKdJ/giphy.gif";
            
            // B. Hide the buttons
            yesBtn.style.display = 'none';
            noBtn.style.display = 'none';

            // C. Play Music
            music.play().catch(error => console.log("Music blocked by browser autoplay policy"));

            // D. Fire Confetti
            if (typeof confetti === "function") {
                confetti({
                    particleCount: 150,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#ff4d6d', '#ffafcc', '#ff85a1']
                });
            }
        });
    </script>
</body>
</html>

